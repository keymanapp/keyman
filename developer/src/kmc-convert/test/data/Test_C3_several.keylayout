<?xml version="1.1" encoding="UTF-8"?>
<!DOCTYPE keyboard SYSTEM "file://localhost/System/Library/DTDs/KeyboardLayout.dtd">
<!--

	Data generated August 1st 2025

	Generated by S. Schmitt

    tests multiple C3 rules

This example will produce the following rules -  character â will be produced by the several combinations:
+ [SHIFT CAPS K_A]  >'A'
+ [CAPS K_A]        >'A'
+ [CAPS RALT K_A]   >'A'
+ [NCAPS K_U]       >'u'
+ [CAPS K_8]        >dk(A5)      dk(A5)  + [SHIFT CAPS K_8]  >dk(B1)       dk(B1) + [NCAPS K_A]  >'â'
+ [CAPS K_8]        >dk(A5)      dk(A5)  + [SHIFT CAPS K_U]  >dk(B2)       dk(B2) + [NCAPS K_A]  >'â'
+ [CAPS K_8]        >dk(A5)      dk(A5)  + [NCAPS RALT K_8]  >dk(B6)       dk(B6) + [NCAPS K_A]  >'â'
+ [CAPS K_8]        >dk(A5)      dk(A5)  + [NCAPS RALT K_U]  >dk(B4)       dk(B4) + [NCAPS K_A]  >'â'
+ [NCAPS RALT K_8]  >dk(A6)      dk(A6)  + [SHIFT CAPS K_8]  >dk(B1)       dk(B1) + [NCAPS K_A]  >'â'
+ [CAPS RALT K_8]   >dk(A7)      dk(A7)  + [SHIFT CAPS K_8]  >dk(B1)       dk(B1) + [NCAPS K_A]  >'â'


In kmn files duplicates would not be written therefore it will be (for readability not each rule in a seperate line here): 
+ [SHIFT CAPS K_A]  >'A'
+ [CAPS K_A]        >'A'
+ [CAPS RALT K_A]   >'A'
+ [NCAPS K_U]       >'u'
+ [CAPS K_8]        >dk(A5)      dk(A5)  + [SHIFT CAPS K_8]  >dk(B1)       dk(B1) + [NCAPS K_A]  >'â'
                                 dk(A5)  + [SHIFT CAPS K_U]  >dk(B2)       dk(B2) + [NCAPS K_A]  >'â'
                                 dk(A5)  + [NCAPS RALT K_8]  >dk(B6)       dk(B6) + [NCAPS K_A]  >'â'
                                 dk(A5)  + [NCAPS RALT K_U]  >dk(B4)       dk(B4) + [NCAPS K_A]  >'â'
+ [NCAPS RALT K_8]  >dk(A6)      dk(A6)  + [SHIFT CAPS K_8]  >dk(B1)
+ [CAPS RALT K_8]   >dk(A7)      dk(A7)  + [SHIFT CAPS K_8]  >dk(B1)



-->
<!--Last edited by Ukelele version 396 on 2024-11-01 at 02:29 (CET)-->
<keyboard group="126" id="-1272" name="Test_C3_several" maxout="1">
    <layouts>
        <layout first="0" last="0" mapSet="138" modifiers="30"/>
    </layouts>
    <modifierMap id="30" defaultIndex="0">
        <keyMapSelect mapIndex="0">
            <modifier keys=""/>
        </keyMapSelect>
        <keyMapSelect mapIndex="1">
            <modifier keys="shift leftShift caps "/>
        </keyMapSelect>
        <keyMapSelect mapIndex="2">
            <modifier keys="caps"/>
        </keyMapSelect>
        <keyMapSelect mapIndex="3">
            <modifier keys="anyOption"/>
        </keyMapSelect>
        <keyMapSelect mapIndex="4">
            <modifier keys="caps anyOption"/>
        </keyMapSelect>
    </modifierMap>
    <keyMapSet id="ANSI">
        <keyMap index="0">
            <key code="0" action="A6"/>
        </keyMap>
        <keyMap index="1">
            <key code="28" action="A3"/>
            <key code="32" action="A5"/>
        </keyMap>
        <keyMap index="2">
            <key code="28" action="A4"/>
            <key code="32" action="A5"/>
        </keyMap>
        <keyMap index="3">
            <key code="28" action="A4"/>
            <key code="32" action="A3"/>
        </keyMap>
        <keyMap index="4">
            <key code="28" action="A4"/>
            <key code="32" action="A6"/>
        </keyMap>
    </keyMapSet>
    <actions>
        <action id="A3">
            <when state="3" next="1"/>
        </action>
        <action id="A4">
            <when state="none" next="3"/>
        </action>
        <action id="A5">
            <when state="none" next="3"/>
        </action>
        <action id="A6">
            <when state="1" output="â"/>
        </action>
    </actions>
    <terminators>
        <when state="1" output="ˆ"/>
    </terminators>
</keyboard>
