#!/usr/bin/python3

import argparse
import logging
import sys

from keyman_config import __version__

def main():
	parser = argparse.ArgumentParser(description='Download Keyman keyboard package to ~/.cache/keyman')
	parser.add_argument('id', help='Keyman keyboard id')
	parser.add_argument('--version', action='version', version='%(prog)s version '+__version__)
	parser.add_argument('-v', action='store_true', help='verbose logging')
	parser.add_argument('-vv', action='store_true', help='very verbose logging')

	args = parser.parse_args()
	if args.v:
		logging.basicConfig(level=logging.INFO, format='%(levelname)s:%(message)s')
	elif args.vv:
		logging.basicConfig(level=logging.DEBUG, format='%(levelname)s:%(message)s')
	else:
		logging.basicConfig(format='%(levelname)s:%(message)s')

	from keyman_config.get_kmp import get_kmp
	get_kmp(args.id)

if __name__ == "__main__":
	main()
