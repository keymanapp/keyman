<?xml version="1.0" encoding="UTF-8"?>

<!--
  Test Keyboard
-->

<keyboard3 xmlns="https://schemas.unicode.org/cldr/45/keyboard3" locale="en" conformsTo="45">
  <info author="srl295" indicator="ðŸ™€" layout="qwerty"  name="Marker Test"/>

  <displays>
    <display output="\m{grave}" display="`" />
    <display output="\m{acute}" display="Â´" />
  </displays>

  <keys>
    <key id="grave" output="\m{grave}" />
    <key id="acute" output="\m{acute}" />
    <key id="caret" output="C" /> <!-- see transform -->
    <key id="hacek" output="H" /> <!-- see transform -->
  </keys>

  <layers formId="us">
    <layer modifiers="none" id="base">
      <row keys="grave acute caret hacek" />
      <row keys="q w e" /> <!-- etc -->
      <row keys="a s d" /> <!-- etc -->
      <row keys="z x c" /> <!-- etc -->
    </layer>
  </layers>

  <variables>
    <!-- for regression  #11045 -->
    <set id="mark_accent" value="\m{acute} \m{grave}"/>
    <set id="spacing_accent" value="Â´ `"/>
  </variables>

  <transforms type="simple">
    <transformGroup>
      <!-- for regression  #11045 -->
      <transform from="($[mark_accent])x" to="$[1:spacing_accent]" />
      <transform from="\m{.}z" to="Z" />
    </transformGroup>
    <transformGroup>
      <transform from="C" to="\m{caret}" />
      <transform from="H" to="\m{hacek}" />
    </transformGroup>
    <transformGroup>
      <transform from="\m{acute}\m{acute}" to="+" />
      <transform from="e\m{acute}" to="Ã©" />
      <transform from="e\m{grave}" to="Ã¨" />
      <transform from="e\m{caret}" to="Ãª" />
      <transform from="e\m{hacek}" to="e\u{030C}" />
      <transform from="c\m{hacek}" to="Ä" />
    </transformGroup>
    <transformGroup>
      <transform from="\m{grave}" to="_" /> <!-- trailing grave becomes _ -->
      <!-- no cleanup for trailing acute -->
    </transformGroup>
  </transforms>
</keyboard3>
