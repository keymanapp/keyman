<?xml version="1.0" encoding="UTF-8"?>

<!--
  Test Keyboard
-->

<!DOCTYPE keyboard3 SYSTEM "../../../../../resources/standards-data/ldml-keyboards/techpreview/dtd/ldmlKeyboard3.dtd">
<keyboard3 locale="en" conformsTo="techpreview">
  <info author="srl295" indicator="🙀" layout="qwerty" normalization="NFC" />
  <names>
    <name value="Marker Test" />
  </names>

  <displays>
    <display to="\m{grave}" display="`" />
    <display to="\m{acute}" display="´" />
  </displays>

  <keys>
    <key id="grave" to="\m{grave}" />
    <key id="acute" to="\m{acute}" />
    <key id="caret" to="C" /> <!-- see transform -->
    <key id="hacek" to="H" /> <!-- see transform -->
  </keys>

  <layers form="us">
    <layer modifier="none" id="base">
      <row keys="grave acute caret hacek" />
      <row keys="q w e" /> <!-- etc -->
      <row keys="a s d" /> <!-- etc -->
      <row keys="z x c" /> <!-- etc -->
    </layer>
  </layers>

  <transforms type="simple">
    <transformGroup>
      <transform from="C" to="\m{caret}" />
      <transform from="H" to="\m{hacek}" />
    </transformGroup>
    <transformGroup>
      <transform from="\m{acute}\m{acute}" to="+" />
      <transform from="e\m{acute}" to="é" />
      <transform from="e\m{grave}" to="è" />
      <transform from="e\m{caret}" to="ê" />
      <transform from="e\m{hacek}" to="e\u{030C}" />
      <transform from="c\m{hacek}" to="č" />
    </transformGroup>
    <transformGroup>
      <transform from="\m{grave}" to="_" /> <!-- trailing grave becomes _ -->
      <!-- no cleanup for trailing acute -->
    </transformGroup>
  </transforms>
</keyboard3>
